#!/usr/bin/perl -w

package main;
use XML::RSS::Feed; # libxml-rss-feed-perl
use LWP::Simple qw(get);
use strict;

use constant URL => 'http://xml.nfowars.net/Alex.rss';

sub ReadStream($)
{
	my $Url = shift;
	printf("Reading %s\n", $Url);
	my $feed = XML::RSS::Feed->new(
		url    => "http://www.jbisbee.com/rdf/",
		name   => "jbisbee",
		delay  => 10,
		debug  => 1,
		tmpdir => "/tmp", # optional caching
	);

	while (1) {
		$feed->parse(get($feed->url));
		print $_->headline . "\n" for $feed->late_breaking_news;
		sleep($feed->delay); 
	}
}

sub ReadStream($)
{
sub main()
{
	ReadStream(URL());
}

exit(main());
